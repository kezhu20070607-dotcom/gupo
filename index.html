<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è‡´æœ€äº²çˆ±çš„å§‘å©†</title>
    <style>
        body { background-color: #fffafb; margin: 0; overflow: hidden; height: 100vh; width: 100vw; font-family: "PingFang SC", "Microsoft YaHei", sans-serif; }
        
        /* å¼¹çª—æ ·å¼ï¼šæ”¹ä¸ºæ›´ä¼˜é›…çš„æ¨±èŠ±ç²‰å’Œç™½è‰² */
        .window { position: absolute; width: 100px; height: 50px; background: #fff; border: 1px solid #ffb6c1; border-radius: 12px; box-shadow: 0 4px 15px rgba(255, 182, 193, 0.3); display: flex; flex-direction: column; animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; opacity: 0; pointer-events: none; }
        .title-bar { height: 10px; background: #ffb6c1; border-radius: 10px 10px 0 0; }
        .content { flex: 1; display: flex; justify-content: center; align-items: center; font-size: 13px; color: #d63384; font-weight: 500; text-align: center; }
        
        @keyframes pop { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* å¼•å¯¼å°é¢ */
        #overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fffafb; z-index: 999; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .start-btn { padding: 12px 35px; font-size: 18px; background: #ffb6c1; color: white; border: none; border-radius: 25px; cursor: pointer; box-shadow: 0 4px 10px rgba(255,182,193,0.5); }

        /* ç»“å°¾çš„å¤§å¡ç‰‡ */
        #final-msg { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100; background: white; padding: 30px; border-radius: 20px; border: 2px solid #ffb6c1; text-align: center; display: none; width: 80%; box-shadow: 0 10px 30px rgba(255, 182, 193, 0.4); }
    </style>
</head>
<body>

<audio id="bgm" loop>
    <source src="https://music.163.com/song/media/outer/url?id=1436702738.mp3" type="audio/mpeg">
</audio>

<div id="overlay">
    <div style="font-size: 40px; margin-bottom: 20px;">ğŸŒ¸</div>
    <button class="start-btn" onclick="startExperience()">å§‘å©†ï¼Œè¯·æŸ¥æ”¶æƒŠå–œ</button>
</div>

<div id="final-msg">
    <h2 style="color: #d63384; margin-bottom: 15px;">äº²çˆ±çš„å§‘å©† âœ¨</h2>
    <p style="font-size: 16px; color: #555; line-height: 1.8;">
        æ„¿æ‚¨ï¼š<br>
        <b style="font-size: 18px; color: #d63384;">çœ¼é‡Œæœ‰å…‰ï¼ŒèŠ³åæ°¸é©»ï¼</b><br>
        æ°¸è¿œä¼˜é›…ï¼Œæ°¸è¿œè‡ªåœ¨ï¼Œ<br>
        æ¯ä¸€å¤©éƒ½å¼€å¿ƒæ¼‚äº®ï¼â¤ï¸
    </p>
</div>

<script>
    // æ¢æˆé€‚åˆ50å²å¥³æ€§çš„ç¥ç¦è¯­
    const messages = [
        "æ°¸è¿œå¹´è½»", "èŠ³åæ°¸é©»", "ä¼˜é›…ä»å®¹", "å¿ƒæƒ…èˆ’ç•…", "ç¬‘å£å¸¸å¼€", "ä¸‡äº‹å¦‚æ„",
        "å¤©å¤©å¼€å¿ƒ", "å²å²å¹³å®‰", "è¶Šæ¥è¶Šç¾", "ç”Ÿæ´»ç”œèœœ", "â¤ï¸çˆ±æ‚¨â¤ï¸", "é¡ºå¿ƒé¡ºæ„",
        "å…ƒæ°”æ»¡æ»¡", "é­…åŠ›æ— é™", "æ¸©æŸ”æœ‰å…‰", "å¥åº·è‡ªåœ¨"
    ];

    const numWindows = 40; 
    const heartSize = window.innerWidth / 35;
    const audio = document.getElementById('bgm');

    function startExperience() {
        document.getElementById('overlay').style.display = 'none';
        audio.play().catch(e => console.log("Music blocked"));
        spawn(0);
    }

    function createHeartPoint(t) {
        const x = 16 * Math.pow(Math.sin(t), 3);
        const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
        return { x: x * heartSize, y: -y * heartSize - 40 };
    }

    function spawn(i) {
        if (i >= numWindows) {
            setTimeout(() => { 
                document.getElementById('final-msg').style.display = 'block'; 
            }, 600);
            return;
        }

        const t = (Math.PI * 2 / numWindows) * i;
        const pos = createHeartPoint(t);
        const win = document.createElement('div');
        win.className = 'window';
        win.style.left = (window.innerWidth / 2 + pos.x - 50) + 'px';
        win.style.top = (window.innerHeight / 2 + pos.y - 25) + 'px';
        win.innerHTML = `<div class="title-bar"></div><div class="content">${messages[i % messages.length]}</div>`;
        document.body.appendChild(win);

        setTimeout(() => spawn(i + 1), 200);
    }
</script>
</body>
</html>
